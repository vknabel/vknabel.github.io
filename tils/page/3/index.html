<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Tils - vknabel</title><link rel=icon type=image/png href=/images/vknabel.jpg><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta property="og:image" content><link rel=alternate type=application/rss+xml href=https://vknabel.com/tils/index.xml title=vknabel><meta property="og:url" content="https://vknabel.com/tils/"><meta property="og:site_name" content="vknabel"><meta property="og:title" content="Tils"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tils"><script src=https://vknabel.com/js/feather.min.js></script><link href=https://vknabel.com/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://vknabel.com/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://vknabel.com/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css media="(prefers-color-scheme: dark)"><link rel=stylesheet type=text/css href=/css/overrides.css></head><body><div class=content><header><div class=main><a href=https://vknabel.com/>vknabel</a></div><nav><a href=/>blog</a>
<a href=/tils>tils</a>
<a href=/about>about</a>
<a href=/tags>tags</a></nav></header><h1 class=page-title>Today I learned</h1><section class=list-item><h1 class=title><a href=/tils/2022-03-17-swiftpm-breaking-api-changes/>SwiftPM can detect breaking api changes</a></h1><time>Mar 17, 2022</time><br><section class=body><p>Starting with Swift 5.6 the Swift Package Manager can automatically detect Breaking API changes. Really great for libs!</p><p><a href="https://twitter.com/fabianfett/status/1504393754412822530?s=12">https://twitter.com/fabianfett/status/1504393754412822530?s=12</a></p></section></section><section class=list-item><h1 class=title><a href=/tils/2022-02-26-async-xctests-on-linux/>Missing Async XCTests on Linux</a></h1><time>Feb 26, 2022</time><br><section class=body><p>Async tests do not work on Linux, only on macOS. Instead you need to implement a helper function that runs the test async by relying on expectations.</p><p><a href=https://www.swiftbysundell.com/articles/unit-testing-code-that-uses-async-await/>https://www.swiftbysundell.com/articles/unit-testing-code-that-uses-async-await/</a></p></section></section><section class=list-item><h1 class=title><a href=/tils/2022-02-21-wkwebview-cookies-not-working/>WKWebView Configuration Cookies not working</a></h1><time>Feb 21, 2022</time><br><section class=body><p>Cookies in WKWebView are broken. When manually setting a Cookie using the Configuration, it will be ignored by the web view.</p><p><strong>Workaround:</strong> add a <code>UserScript</code> with the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>document.<span style=color:#a6e22e>cookies</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;cookie_optin=essential:1|analytics:0&#39;</span>
</span></span></code></pre></div><p>That&rsquo;s a great way to automatically reject Cookies and especially to disable tracking to either propagate the user&rsquo;s ATT decision or to avoid implementing ATT in the beginning.</p></section></section><section class=list-item><h1 class=title><a href=/tils/2022-02-14-getting-your-ip-address/>Getting your IP address</a></h1><time>Feb 14, 2022</time><br><section class=body><p>Sometimes you need your local IP address on the command line to automatically pass it to a script.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ifconfig en0 |awk <span style=color:#e6db74>&#39;/inet / {print $2; }&#39;</span>
</span></span></code></pre></div></section></section><section class=list-item><h1 class=title><a href=/tils/2022-02-10-swift-custom-table-of-contents-lib/>Swift custom table of contents lib</a></h1><time>Feb 10, 2022</time><br><section class=body><p>If the default Table Of Contents / Index Set for iOS does not fit your use cases. This library might be interesting:</p><p><a href=https://iosexample.com/table-of-contents-selector-built-with-swift/>https://iosexample.com/table-of-contents-selector-built-with-swift/</a></p></section></section><section class=list-item><h1 class=title><a href=/tils/2021-11-19-uinavigationbar-black-after-xcode-13-upgrade/>UINavigationBar black after Xcode 13 upgrade</a></h1><time>Nov 19, 2021</time><br><section class=body><p>In case your <code>UINavigationBar</code> has been set to a custom color and the navigation bar is not translucent, you will experience a visual regression when updating to Xcode 13.
The navigation bar background will be black - until you start scrolling. Then it behaves as expected.</p><p>Thankfully there is a workaround and an easy fix:
<a href=https://developer.apple.com/forums/thread/682420>Apple Developer Forums: barTintColor not working in iOS 15</a></p></section></section><section class=list-item><h1 class=title><a href=/tils/2021-11-16-reminder-websites-contain-weird-characters/>Reminder: websites contain weird characters</a></h1><time>Nov 16, 2021</time><br><section class=body><p>Copying contents from the web often copies weird characters, like the invisible character <code>U+FEFF</code> or &ldquo;Zero Width No-Break Space&rdquo;.</p><p>Code editors like VS Code might highlight those characters depending on your config, but other websites don&rsquo;t. In my case I copied a secret for my CI pipeline including the invisible character.</p><p>An easy workaround for this on the mac: Spotlight removes some of these characters. A simple <code>cmd+space</code>, <code>cmd+v</code>, <code>cmd+a</code>, <code>cmd+c</code> and <code>esc</code> cleans the copied text.</p><p>And suddenly the inserted password is correct!</p></section></section><section class=list-item><h1 class=title><a href=/tils/2021-11-16-there-is-a-modular-version-manager-asdf/>There is a modular version manager: asdf!</a></h1><time>Nov 16, 2021</time><br><section class=body><p>Today I learned about <a href=https://github.com/asdf-vm/asdf>asdf</a>, which is a pluggable version manager.</p><p>Previously I used nvm, rvm, swiftenv and more. I now use asdf. Just add the plugin of your choice and install your desired versions.</p><p>The only drawback is installing completely new versions of the tools. You are only able to install exact versions. You can&rsquo;t install <em>some major 16 nodejs version</em>.
But you can still install <code>asdf install &lt;plugin> latest</code> or in case of nodejs <code>lts-*</code> versions.</p><p>Don&rsquo;t forget to pick the version locally or globally.</p><blockquote><p>some side-tip: there is an <a href=https://github.com/asdf-community/asdf-direnv>asdf plugin for direnv</a>!</p></blockquote></section></section><section class=list-item><h1 class=title><a href=/tils/2021-11-15-having-two-admin-dev-accounts-is-a-bad-idea/>Having two admin dev accounts is a bad idea</a></h1><time>Nov 15, 2021</time><br><section class=body><p>I tried to keep my work stuff separate from my personal stuff on the same machine.
I created two admin users, set up a group for homebrew and set the permissions accordingly.</p><p>Sadly this didn&rsquo;t work out in the long run. So I started to run Homebrew as my preferred admin user.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>whoami<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;vknabel&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>  sudo -S --login -u vknabel bash -- <span style=color:#66d9ef>$(</span>which brew<span style=color:#66d9ef>)</span> <span style=color:#e6db74>&#34;</span>$@<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>  brew <span style=color:#e6db74>&#34;</span>$@<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span></code></pre></div><p>This approach worked and was muich more reliable than the previous approach.</p><p>Then came Flutter. I had to add additional permissions and eventually change their ownership from time to time as flutter messed them up.</p></section></section><section class=list-item><h1 class=title><a href=/tils/2021-08-02-converting-simple-ios-apps-to-tvos-is-easy/>Converting simple iOS apps to tvOS is easy!</a></h1><time>Aug 2, 2021</time><br><section class=body><p>Converting a simple and small iOS app was far easier than expected. Of course webviews, gesture recognizers, navbars, etc. are not supported or work differently, but at a first glance there are not a lot parts with visual regressions!</p></section></section><ul class=pagination><span class="page-item page-prev"><a href=/tils/page/2/ class=page-link aria-label=Previous><span aria-hidden=true>← Prev</span></a>
</span><span class="page-item page-next"><a href=/tils/page/4/ class=page-link aria-label=Next><span aria-hidden=true>Next →</span></a></span></ul><footer><div style=display:flex><a class=soc href=https://github.com/vknabel rel=me title=GitHub><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github"/></svg></a><a class=border></a><a class=soc href=https://mastodon.social/@vknabel/ rel=me title=Mastodon><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#at-sign"/></svg></a><a class=border></a></div><div class=footer-info>2025 © Valentin Knabel | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer></div></body></html>