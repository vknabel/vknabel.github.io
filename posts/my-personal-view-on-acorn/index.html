<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>My Personal View on Acorn | vknabel</title><link rel=stylesheet href=/css/main.min.e9fd179d6f16b595a4ec4953ef9042fa8e3bcdf9755535ae526ed686593a3ced.css integrity="sha256-6f0XnW8WtZWk7ElT75BC+o47zfl1VTWuUm7Whlk6PO0=" crossorigin=anonymous><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inria+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel=stylesheet><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script><link rel=icon type=image/png href=/images/vknabel.jpg><link rel=me href=https://mastodon.social/@vknabel><meta name=fediverse:creator content="@vknabel@mastodon.social"><script defer src=https://uma.knabel.dev/umami data-website-id=6c602988-83e0-47c7-a844-d7c4e6edc43d data-domains=www.vknabel.com></script><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Acorn is an application deployment framework for k8s, that tries to simplify instead of introducing another layer of indirection. I won&rsquo;t cover all details and problems it tries to solve here, instead I&rsquo;d like to share some experiences and thoughts."><meta property="og:image" content><meta property="og:url" content="https://vknabel.com/posts/my-personal-view-on-acorn/"><meta property="og:site_name" content="vknabel"><meta property="og:title" content="My Personal View on Acorn"><meta property="og:description" content="Acorn is an application deployment framework for k8s, that tries to simplify instead of introducing another layer of indirection. I won’t cover all details and problems it tries to solve here, instead I’d like to share some experiences and thoughts."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-12T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-12T00:00:00+00:00"><meta property="article:tag" content="Hosting"><meta property="article:tag" content="Tooling"><meta name=twitter:card content="summary"><meta name=twitter:title content="My Personal View on Acorn"><meta name=twitter:description content="Acorn is an application deployment framework for k8s, that tries to simplify instead of introducing another layer of indirection. I won’t cover all details and problems it tries to solve here, instead I’d like to share some experiences and thoughts."><link rel=alternate type=application/rss+xml href=https://vknabel.com/index.xml title=News><link rel=alternate type=application/rss+xml href=https://vknabel.com/posts/index.xml title=Posts><link rel=alternate type=application/rss+xml href=https://vknabel.com/library/index.xml title=Library><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/announcement/index.xml title="Tagged with Announcement"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/books/index.xml title="Tagged with Books"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/go/index.xml title="Tagged with Go"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/hosting/index.xml title="Tagged with Hosting"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/lithia/index.xml title="Tagged with Lithia"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/plants/index.xml title="Tagged with Plants"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/puffery/index.xml title="Tagged with Puffery"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/swift/index.xml title="Tagged with Swift"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/tooling/index.xml title="Tagged with Tooling"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/web/index.xml title="Tagged with Web"><link rel=alternate type=application/rss+xml href=https://vknabel.com/tags/zirric/index.xml title="Tagged with Zirric"></head><body><div class=content><header><nav class=menu-main><ul><li><a aria-current=true class=ancestor href=/posts/>Blog</a></li><li><a href=/library/>Library</a></li></ul></nav><a href=/ class=logo>vk</a><nav class=menu-secondary><ul><li><a href=/about/>About</a></li></ul></nav></header><main><h1>My Personal View on Acorn</h1><small><i>Posted on <time datetime=2022-12-12T00:00:00+00:00>2022-12-12</time></i></small><p><a href=https://acorn.io>Acorn</a> is an application deployment framework for k8s, that tries to simplify instead of introducing another layer of indirection. I won&rsquo;t cover all details and problems it tries to solve here, instead I&rsquo;d like to share some experiences and thoughts.</p><blockquote><p><strong>Acorn has been discontinued</strong> and they are now doing some AI slop stuff.</p></blockquote><h2 id=my-experience-with-acorn-and-kubernetes>My experience with Acorn and Kubernetes</h2><p>Before we dive right in, I&rsquo;d like to let you know about my level of experience with Kubernetes and Acorn.</p><p>I started having a look on Acorn in August 2022 and played around with it. I did not have production experience with Kubernetes, but I started learning and playing around with it a few months before.</p><p>To get a deeper understanding on k8s, I soon started to migrate my personal services hosted on multiple docker-compose-files. Later I had a look on Acorn and started to play around with it. I also translated my docker-compose-files and k8s manifests to Acorn and liked the result.</p><p>Later I migrated my personal production services to k8s and Acorn. As <a href=http://github.com/vknabel/puffery>Puffery</a> only has a few users, there wasn&rsquo;t much risk involved.</p><p>On October 2022, I held a talk about <a href=https://acorn.io>Acorn</a> at the <a href=https://community.cncf.io/events/details/cncf-kcd-munich-presents-kubernetes-community-days-munich-2022-1/>Kubernetes Community Days Munich 2022</a>. And recently I wrote the <a href=https://www.x-cellent.com/posts/getting-started-with-acorn-for-kubernetes>corresponding blog post</a> for my employer&rsquo;s blog to share the contents of the talk.</p><h2 id=secrets>Secrets</h2><p>Acorn forces you to declare secrets in the <code>Acornfile</code>, but it forbids you to provide them there. Instead it will automatically generate the secrets on the initial deployment. You don&rsquo;t have to worry about secrets anymore.</p><p>The weird part is, when you have an existing secret. You don&rsquo;t override or change the generated secret. Instead you create a new secret at the command line and link both secrets together.</p><p>But if you are used to it, it&rsquo;s actually a nice way to solve this issue.</p><h2 id=referencing-resources>Referencing Resources</h2><p>In Acorn you need to reference some resources like a specific secret or volume. Here you use an URL with the appropriate scheme. For example, to reference a secret, you use the <code>secret://</code> scheme.</p><p>In regards to volumes, this is awesome, as you can even mount a specific path of the volume into a directory. But when using secrets, this is sometimes a bit annoying, as you need to reference the whole secret and then extract the value you need, like <code>secret://db-password/token</code>. The benefit: you can create a secret to mount multiple files into a container using an opaque secret.</p><p>I understand the reasoning behind using resource URLs, as these resources technically need to be created and are not part of the Acorn Image. But in the beginning this was a bit confusing. Maybe this is just a documentation issue.</p><h2 id=development>Development</h2><p>For development we always need a vast range of tools. Especially when working with multiple programming languages. I tend to avoid installing those on my local machine and instead use containers. In easier cases I use <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">Remote Containers</a> for VS Code. For more complex use cases that include databases, I rely on docker-compose. But if the application needs to run in a Kubernetes cluster, it would be twice the work to maintain the <code>docker-compose.yaml</code> and the k8s manifests. With Acorn, I can use the same manifests for development and production. Of course I need to sprinkle some <code>if</code> statements in the <code>Acornfile</code> to make it work for both environments, but it feels much more natural than maintaining two different sets of manifests.</p><p>And to be honest, I think an <code>Acornfile</code> is far easier to read, than a <code>docker-compose.yaml</code> or many k8s manifests.</p><h2 id=production-use>Production Use</h2><p>I have been using Acorn in production for a few months now and I have not encountered any problems so far.
Instead I really like gathering all logs of one application with a single command out of the box: <code>acorn logs [app]</code>.</p><p>I also like the fact, that Acorn knows the concept of an app. That way it can provide a great overview about whole applications across multiple resource types.</p><h2 id=conclusion>Conclusion</h2><p>I really like Acorn and I think it&rsquo;s a great tool to simplify the deployment of applications to Kubernetes. It&rsquo;s not perfect, but it&rsquo;s a great start. At the moment I&rsquo;m not sure if I would use it for a production application with a lot of users, but I would definitely use it for my personal projects.</p><ul class=tags><li class="tags-item tags-item--tag"><a href=/tags/hosting/>Hosting</a></li><li class="tags-item tags-item--tag"><a href=/tags/tooling/>Tooling</a></li></div></main><footer><div><small>2026 © Valentin Knabel</small><br><small>Made with ♥ by a human.</small><br></div><div><h6 id=menu-social>Social</h6><nav class=menu-social><ul><li><a href=https://github.com/vknabel>GitHub</a></li><li><a href=https://mastodon.social/@vknabel/>Mastodon</a></li><li><a href=https://code.knabel.dev/explore/repos>code.knabel.dev</a></li><li><a href=/rss/>RSS</a></li></ul></nav></div><div><h6 id=menu-links>Links</h6><nav class=menu-tertiary><ul><li><a href=/now/>Now</a></li><li><a href=/colophon/>Colophon</a></li><li><a href=/projects/>Projects</a></li><li><a href=/sovereignity/>Sovereignity</a></li><li><a href=/tags/>Tags</a></li></ul></nav></div></footer></div></body></html>